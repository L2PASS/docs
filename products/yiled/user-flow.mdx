---
title: "User Flow"
icon: "diagram-project"
iconType: light
---

# L2Pass Liquid Yield: User Flow

This section describes the end-to-end lifecycle of a user interacting with L2Pass Liquid Yield, from deposit to reward claims and withdrawals.

## High-level flow

<Steps>

  <Step title="Connect Wallet">
    The user connects a TRON-compatible wallet to the L2Pass interface.
    The wallet is authenticated, the TRON network is verified, and the user’s USDT and TRX balances are displayed.
  </Step>

  <Step title="Deposit USDT">
    The user selects an amount of **USDT (TRC20)** and confirms the deposit transaction in their wallet.
    The interface displays information about weekly reward distribution and required network resources.
  </Step>

  <Step title="Smart Liquid Vault">
    The deposited USDT is received by the L2Pass **Smart Liquid Vault**, which manages user accounting and executes the yield strategy on-chain.
  </Step>

  <Step title="PSM: USDT → USDD">
    The Smart Liquid Vault converts USDT to **USDD** via the Peg Stability Module (PSM) at a 1:1 rate.
  </Step>

  <Step title="JustLend: Supply USDD → jUSDD">
    The converted USDD is supplied to **JustLend**, where it is lent to the market and represented by **jUSDD**.
    This step is the primary source of base yield.
  </Step>

  <Step title="Mint Position NFT">
    A non-transferable **Position NFT** is minted to the user’s wallet.
    The NFT represents the user’s position and tracks deposited principal, accrued rewards, and ownership.
  </Step>

  <Step title="Yield Accrual">
    Yield begins accruing automatically from JustLend lending rates and protocol incentive distributions.
    Rewards accumulate continuously and are finalized on a weekly basis.
  </Step>

  <Step title="Claim Rewards / Withdraw Principal">
    The user may claim eligible rewards or withdraw their principal partially or in full at any time.
    Previously accrued rewards remain claimable even after principal withdrawal.
  </Step>

</Steps>




##User Flow Steps

<Steps> <Step title="Connect Wallet"> The user connects a TRON-compatible wallet (for example, TronLink) to the L2Pass interface.

During this step:
- Wallet ownership is authenticated
- Network is verified as TRON
- USDT (TRC20) and TRX balances are displayed

**Precondition:**  
The wallet holds USDT (TRC20) on the TRON network.

</Step> <Step title="Initiate Deposit"> The user specifies a deposit amount in USDT and confirms the action in their wallet.

Before confirmation:
- The UI displays a notice that rewards are distributed on a weekly basis
- The wallet shows a transaction confirmation modal

Transactions on TRON require sufficient **TRX or Energy**.  
Users may optionally rent Energy through third-party services to reduce execution costs. Energy rental is optional but recommended for frequent or higher-volume interactions.

</Step> <Step title="On-chain Deposit and Position NFT Minting"> After the deposit is confirmed, the Smart Liquid Vault executes the following on-chain actions:

1. Receives USDT from the user  
2. Converts USDT to USDD via the PSM (1:1)  
3. Supplies USDD to JustLend and receives jUSDD  
4. Mints a **Position NFT** to the user’s wallet  

The Position NFT represents the user’s position and includes:
- Position ID
- Deposited amount
- Owner wallet
- Accrued rewards

The NFT is updated dynamically as the position state changes.

</Step> <Step title="Yield Accrual"> Once funds are supplied to JustLend, yield begins accruing automatically.

Yield consists of:
- Base lending yield from JustLend
- Weekly protocol incentive distributions

The interface displays:
- Accrued yield per position
- Historical APY metrics
- Reward epoch status

</Step> <Step title="Claim Rewards"> Rewards accrue continuously but become claimable after each weekly reward epoch is finalized.

To claim rewards:
1. The user selects the rewards action for a position  
2. The smart contract verifies NFT ownership and reward eligibility  
3. Claimable rewards are transferred in USDT  

Claiming rewards does not affect the deposited principal.  
Multiple completed epochs may be claimed in a single transaction.

</Step> <Step title="Withdraw Principal (Partial or Full)"> The user may withdraw funds at any time, with no lockups or cooldowns.

Withdrawal flow:
- The user selects a partial or full withdrawal amount  
- The Vault redeems the corresponding jUSDD from JustLend  
- USDD is converted back to USDT via the PSM  
- USDT is transferred to the user’s wallet  

After withdrawal:
- The Position NFT is updated to reflect the reduced principal  
- Fully withdrawn positions may be archived or burned

</Step> <Step title="Post-withdrawal Reward Claims"> Withdrawing principal does not affect previously accrued rewards.

Any rewards earned during completed epochs remain claimable, even after the user has fully exited the position. The interface continues to display eligible reward epochs until all rewards are claimed.

